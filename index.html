<html lang="en">
<head>
<title>Monky User Manual</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Monky User Manual">
<meta name="generator" content="makeinfo 4.11">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 2010 Anantha Kumaran.

     Permission is granted to copy, distribute and/or modify this
     document under the terms of the GNU Free Documentation License,
     Version 1.2 or any later version published by the Free Software
     Foundation; with no Invariant Sections, with no Front-Cover Texts,
     and with no Back-Cover Texts.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
<link rel="stylesheet" type="text/css" href="http://ananthakumaran.github.com/monky/monky.css">
</head>
<body>
<div class="node">
<p><hr>
<a name="Top"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Monky User Manual</h2>

<p>Monky is an emacs extension, provides an interactive interface for Hg

<ul class="menu">
<li><a accesskey="1" href="#Introduction">Introduction</a>
<li><a accesskey="2" href="#Sections">Sections</a>
<li><a accesskey="3" href="#Status">Status</a>
<li><a accesskey="4" href="#Untracked-files">Untracked files</a>
<li><a accesskey="5" href="#Missing-Files">Missing Files</a>
<li><a accesskey="6" href="#Staging-and-Committing">Staging and Committing</a>
<li><a accesskey="7" href="#Merged-Files">Merged Files</a>
<li><a accesskey="8" href="#Pushing-and-Pulling">Pushing and Pulling</a>
<li><a accesskey="9" href="#Log">Log</a>
<li><a href="#Branch">Branch</a>
<li><a href="#Queue">Queue</a>
<li><a href="#Using-Hg-Directly">Using Hg Directly</a>
</ul>

<div class="node">
<p><hr>
<a name="Introduction"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Sections">Sections</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Introduction</h2>

<p>Monky provides an interactive interface for Hg. Using Monky, your can
selectively commit files, view the diffs and other things.

<div class="node">
<p><hr>
<a name="Sections"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Status">Status</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Introduction">Introduction</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Sections</h2>

<p>All items in the Monky buffers are nested 'sections'. The visibility
of the current section can be toggled using <kbd>TAB</kbd> key. When a
section is hidden, only its first line is shown and all its children
are completely invisible.

<div class="node">
<p><hr>
<a name="Status"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Untracked-files">Untracked files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Sections">Sections</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Status</h2>

<p>Running <kbd>M-x monky-status</kbd> while visiting any file in a repo
displays the status of the hg repo. The status buffer list down the
missing files, untracked files and changed files. By default the diff
of the files are invisible. Use <kbd>TAB</kbd> key to toggle the visibility.

   <p>During a merge the buffer will show the list of merged files, and
files unmodified during the merge.

<div class="node">
<p><hr>
<a name="Untracked-files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Missing-Files">Missing Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Status">Status</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Untracked files</h2>

<p>you can add a untracked file by typing key <kbd>s</kbd>. Type <kbd>k</kbd> to
delete the file.

<div class="node">
<p><hr>
<a name="Missing-Files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Staging-and-Committing">Staging and Committing</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Untracked-files">Untracked files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 Missing Files</h2>

<p>This section list the files missing from the repo. Typing <kbd>s</kbd> will
remove the file from the repo. To restore the file type <kbd>k</kbd>.

<div class="node">
<p><hr>
<a name="Staging-and-Committing"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Merged-Files">Merged Files</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Missing-Files">Missing Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 Staging and Committing</h2>

<p><em>Changes</em> section will list all the changes in the repo. Using
monky you can select a subset of your changes and commit it. Type
<kbd>s</kbd> to stage a file. Typing <kbd>S</kbd> will stage all files.

   <p><em>Staged Changes</em> section will list all the staged changes in the
repo. Type <kbd>u</kbd> to unstage a file. Typing <kbd>U</kbd> will unstage all
the previously staged files.

   <p>Once you staged all the necessary files type <kbd>c</kbd>. This will pop-up
a buffer for the commit message. Typing <kbd>C-c C-c</kbd> will commit all
the staged files.

   <p>You can reset the current working directory by typing <kbd>X</kbd>.

   <p>Hg doesn't have any staging area. So staging and unstaging won't make
any changes to your repo unless you commit.

<div class="node">
<p><hr>
<a name="Merged-Files"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Pushing-and-Pulling">Pushing and Pulling</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Staging-and-Committing">Staging and Committing</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 Merged Files</h2>

<p>After a merge, this section will list the files merged. Typing <kbd>m</kbd>
will mark the file as resolved and <kbd>x</kbd> will mark the file as
unresolved. After a merge, Hg doesn't allows to commit a subset of
changes. so files can't be staged or unstaged. So committing after a
merge will commit all the merged and unmodified files during the
merge.

<div class="node">
<p><hr>
<a name="Pushing-and-Pulling"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Log">Log</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Merged-Files">Merged Files</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 Pushing and Pulling</h2>

<p>Type <kbd>P</kbd> to push the current branch, <kbd>f</kbd> to pull changes
from remote and <kbd>F</kbd> to fetch changes from the remote. You can
specify the source/destination to the previous commands  with a prefix
argument.

<div class="node">
<p><hr>
<a name="Branch"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Queue">Queue</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Log">Log</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Branch</h2>

<p>Typing <kbd>b</kbd> will bring up the branch buffer. This will list all the
branches. You can use <kbd>C</kbd> to checkout a branch.

<div class="node">
<p><hr>
<a name="Queue"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-Hg-Directly">Using Hg Directly</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Branch">Branch</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 Queue</h2>

<p>Use <kbd>M-x monky-queue</kbd> or <kbd>Q</kbd> from the status buffer to view
the queue buffer. The queue buffer will list the <em>Applied
Patches</em>, <em>UnApplied Patches</em> and the <em>Series</em>.

   <p><table summary=""><tr align="left"><th valign="top" width="15%">Key </th><th valign="top" width="85%">Description
<br></th></tr><tr align="left"><td valign="top" width="15%">u
</td><td valign="top" width="85%">pop the selected patch and all the patches before it
<br></td></tr><tr align="left"><td valign="top" width="15%">U
</td><td valign="top" width="85%">pop all the applied patches
<br></td></tr><tr align="left"><td valign="top" width="15%">s
</td><td valign="top" width="85%">push the selected patch and all the patches before it
<br></td></tr><tr align="left"><td valign="top" width="15%">S
</td><td valign="top" width="85%">push all the unapplied patches
<br></td></tr><tr align="left"><td valign="top" width="15%">r
</td><td valign="top" width="85%">refresh(update) the current patch with the changes in working
directory
<br></td></tr><tr align="left"><td valign="top" width="15%">C-u r
</td><td valign="top" width="85%">refresh the current patch and allows to edit the commit message
<br></td></tr><tr align="left"><td valign="top" width="15%">R
</td><td valign="top" width="85%">rename the selected patch
<br></td></tr><tr align="left"><td valign="top" width="15%">k
</td><td valign="top" width="85%">remove the selected patch
<br></td></tr><tr align="left"><td valign="top" width="15%">N
</td><td valign="top" width="85%">create a new patch on top of current patch
<br></td></tr><tr align="left"><td valign="top" width="15%">C-u N
</td><td valign="top" width="85%">same as N except this will also read the commit message for the patch
<br></td></tr><tr align="left"><td valign="top" width="15%">d
</td><td valign="top" width="85%">fold the selected patch into the current patch
<br></td></tr><tr align="left"><td valign="top" width="15%">f
</td><td valign="top" width="85%">apply(qfinish) the selected patch into repo history
<br></td></tr><tr align="left"><td valign="top" width="15%">F
</td><td valign="top" width="85%">apply(qfinish) all applied patches into repo history
<br></td></tr><tr align="left"><td valign="top" width="15%">G
</td><td valign="top" width="85%">reset the guards of the selected patch with new guards
   <br></td></tr></table>

<div class="node">
<p><hr>
<a name="Log"></a>
Next:&nbsp;<a rel="next" accesskey="n" href="#Branch">Branch</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Pushing-and-Pulling">Pushing and Pulling</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Log</h2>

<p>Typing <kbd>l</kbd> will bring up the log buffer. This will list the commit
logs of the repo. You can use <kbd>n</kbd> and <kbd>p</kbd> to move to the
previous and next commit. Type <kbd>RET</kbd> to see the commit
information, <kbd>C</kbd> to checkout the commit.

   <p>Monky will show only <code>monky-log-cutoff-length</code> entries. Typing
<kbd>e</kbd> will show twice as many entries. <kbd>C-u e</kbd> will show all
entries, and given a numeric prefix argument, <kbd>e</kbd> will add this
number of entries.

<div class="node">
<p><hr>
<a name="Using-Hg-Directly"></a>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Queue">Queue</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 Using Hg Directly</h2>

<p>To run a Hg command directly type <kbd>:</kbd> and enter the command in the
minibuffer. This will refresh the status buffer after the execution of
command.  The output of the command can be viewed by typing <kbd>$</kbd>.

</body></html>

